### 一、web和web应用系统

#### 1、web

​	web(world wide web) 全球广域网，也称万维网。它是一种基于超文本和HTTP的、全球性的、动态交互的、跨平台的分布式图形信息系统。


#### 2、web应用系统

​	web应用系统有C/S、B/S两种模式。


​	C/S是客户端/服务器端程序，也就是说这类程序一般独立运行，如QQ、微信等。


​	B/S就是浏览器端/服务器端应用程序，这类应用程序一般借助IE等浏览器来运行。WEB应用程序一般是B/S模式。


#### 3、web应用基本框架

终端用户----------------应用传输协议(http)---------------应用服务器----------------数据库服务器

浏览器(IE\Firefox)                                    web应用中间件(IIS、Apache....)           mysql、oracle.....

客户端语言(html、javascript....)                  服务端语言(php、asp、jsp)                  SQL语言                                      

#### 4、http协议

​	HTTP是Hyper Text Transfer Protocol（超文本传输协议）的缩写。HTTP协议是用于从WWW服务器传输超文本到本地浏览器的传送协议。

​	HTTP是一个基于TCP/IP通信协议来传递数据（HTML文件,图片文件,查询结果等）。

​	HTTP是一个应用层协议，由请求和响应构成，是一个标准的客户端服务器模型。HTTP是一个无状态的协议。

​	http协议通信过程：

​	1）用户在浏览器中输入网址或点击超链接,触发网页请求。


​	2）首先客户机与服务器需要建立TCP连接。


​	3）建立连接后，客户机发送一个http请求给服务器。


​	4）服务器接到请求后，给予相应的响应信息，即http响应包。


​	5）浏览器解析http响应包，显示在用户的显示屏上，客户端与服务器断开连接。


#### 5、http协议包

##### 	1）http访问地址

​		URL又称统一资源定位符，是对可以从互联网上得到的资源的位置和访问方法的一种简洁的表示，是互联网上标准资源的地址。

​		url构成：（协议）://（主机域名）：（端口号）/（资源路径）？（额外的参数值）

##### 	2）http请求报文

​		1>请求行：请求类型+http协议版本号

​		2>请求头：Host(请求的服务器的域名和端口号)


​						User-Agent(客户端使用的操作系统版本、cpu、浏览器版本、浏览器语言等)

​						Accept-Language(浏览器可接受的语言)

​						Accept(浏览器可接受的数据类型)

​						Accept-Encoding(浏览器接受的内容编码)

​						Accept-Charset(浏览器可接受的字符集)

​						Authorization(表示客户端有权访问某个资源)

​						Referer(表示触发当前请求的页面的链接)

​						Content-Type(表示请求体对应的MIME信息)

​						Content-Length(请求体内容的长度)

​						Cookie(在请求域名下所有的cookie发送给服务器) 


​						注：http请求发送时，会将保存在请求域名下所有的cookie发送给服务器。

​						X-Forwarded-For(用户通过代理服务器访问web服务器时，添加该字段标记用户真实IP)


​		3>空行

​		4>请求数据

##### 	3）http响应报文

​		1>状态行：http协议版本+服务器响应的状态码

​		2>响应头：Server(服务器名称)

​							Data(响应发送的时间)

​							Content-Type(响应内容对应的MIME信息)

​							Content-Length(响应消息体的长度)

​							Content-Encoding(表示响应消息的编码类型)

​							Last-Modified(所请求对象的最后修改日期)

​							Set-Cookie(用于在客户端保存一条新的cookie)

​							Refresh(表示重定向或者新资源创建时，默认多长时间进行刷新重定向)

##### 	4）http协议请求方法

​	HTTP规范定义了8种可能的请求方法：

​	get：向特定资源发出请求（请求指定页面信息，并返回实体主体）

​	post：向指定资源提交数据进行处理请求（提交表单、上传文件），又可能导致新的资源的建立或原有资源的修改。

​	head：与get请求类似，返回的响应中没有具体内容（响应体），用于获取报头。

​	put：从客户端向服务器传送的数据取代指定文档的内容（更新资源）。

​	trace：回显服务器收到的请求，用于测试和诊断（trace是http8种请求方式之中最安全的）。

​	delete：请求服务器删除request-URL所标示的资源（请求服务器删除指定页面）。

​	option：返回服务器针对特定资源所支持的HTML请求方法，用于测试服务器功能（允许客户端查看服务器性能）。

​	connect ： HTTP/1.1协议中能够将连接改为管道方式的代理服务器。

##### 	5）get请求与post请求的区别

​	GET提交的数据会放在 URL之后，以?分割URL 和传输数据，参数之间 以&相连；

​	GET提交的数据大小有限制（因为浏览器对URL的长度有限制），而POST方法提交的数据没有限制；

​	GET方式需要使用Request.QueryString来取得变量的值，而POST方式通过Request.Form来获取变量的值；

​	GET方式提交数据，会带来安全问题（提交的数据在URL中）。

##### 	6）http响应状态码

​	1xx：指示信息--表示信息请求已接收，继续处理

​	2xx：成功--表示请求已被成功接收、理解、接受

​	3xx：重定向--要完成请求必须进行更进一步的操作

​	4xx：客户端错误--请求语法错误或请求无法实现

​	5xx：服务端错误--服务器未能实现合法的请求

##### 	7）http协议缺点

​		HTTP协议是一种超文本传输协议，它是无状态的、简单快速的、基于 TCP 的可靠传输协议，由于HTTP自身的特性，因此HTTP协议存在许多不足：

​		1>HTTP通信使用明文传输，传输信息遭到第三方窃听

​		2>无法验证通信双方身份，容易遭遇第三方冒充、伪造通信对象

​		3>无法验证消息报文的完整性，无法确认消息是否被篡改。

#### 6、https协议

​		HTTPS 协议是由 HTTP 加上 TLS/SSL 协议构建的可进行加密传输、身份认证的网络协议，主要通过数字证书、加密算法、非对称密钥等技术完成互联网数据传输加密，实现互联网传输安全保护。

​		https基本通信过程：

​		1>客户端发起https请求

​		2>服务端配置

​			采用https协议的服务器必须要有一套数字证书(CA),可自己制作，也可向组织申请，自己颁发的证书需要客户端验证通过，才能继续访问，而使用受信任的公司申请的无需向客户端验证。数字证书可以理解为一对公私钥。

​		3>传送证书

​			服务器向客户端发送证书，此证书即为公钥，还包含了证书颁发机构、过期时间等信息。

​		4>客户端解析证书

​			解析工作由客户端的TLS完成，验证证书是否合法，如证书颁发机构、过期时间等，发现异常则会弹出警告，提示证书存在问题。若证书合法，则生成一个随机值，然后用此证书对随机值加密。

​		5>传送加密的随机值

​			传送加密的随机值给服务器。

​		6>服务端解密

​			服务端得到加密信息，用私钥进行解密，得到客户端生成的随机值。然后通过该值进行对称加密，只要加密算法够强大，数据就足够安全。

​		7>传输加密后的数据

​			服务端把客户端生成的随机值当作私钥，用这个私钥对信息进行加密后传送给客户端。

​		8>客户端解密信息

​			客户端用之前生成的私钥解密服务端传送过来的信息，得到数据。整个过程第三方即使监听到了数据，也无法解密。

##### 		1）SSL/TLS协议

​			SSL(Secure Sockets Layer 安全套接层),及其继任者传输层安全(Transport Layer Security，TLS)是为网络通信提供安全及数据完整性的一种安全协议。TLS与SSL在传输层对网络连接进行加密。

​			SSL/TLS协议的作用：

​			1.认证通信双方身份，保证双方数据正确发送

​			2.加密通信数据，保护通信数据信息

​			3.保证数据在通信过程中的完整性

##### 		2）https协议缺点

​			HTTPS协议多次握手，导致页面的加载时间延长近50%；

​			HTTPS连接缓存不如HTTP高效，会增加数据开销和功耗；

​			申请SSL证书需要钱，功能越强大的证书费用越高。

​			SSL涉及到的安全算法会消耗 CPU 资源，对服务器资源消耗较大。

#### 7、http与https主要区别

 		https协议需要到CA申请证书，一般免费证书较少，因而需要一定费用。

​		http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl/tls加密传输协议

​		http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443

​		http的连接很简单，是无状态的；HTTPS协议是由SSL/TLS+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。
